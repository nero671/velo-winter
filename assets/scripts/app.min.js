"use strict";

var app = {
  pathToLibsFiles: './assets/libs'
};
window.app = app; // polyfills
// before polyfills

(function (arr) {
  arr.forEach(function (item) {
    if (item.hasOwnProperty('before')) {
      return;
    }

    Object.defineProperty(item, 'before', {
      configurable: true,
      enumerable: true,
      writable: true,
      value: function before() {
        // eslint-disable-next-line prefer-rest-params
        var argArr = Array.prototype.slice.call(arguments);
        var docFrag = document.createDocumentFragment();
        argArr.forEach(function (argItem) {
          var isNode = argItem instanceof Node;
          docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));
        });
        this.parentNode.insertBefore(docFrag, this);
      }
    });
  });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]); // forEach polyfill


if (window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = function (callback, thisArg) {
    // eslint-disable-next-line no-param-reassign
    thisArg = thisArg || window;

    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

var iceCrash = function iceCrash() {
  var lastScreenElem1 = document.querySelector('.last-screen__ice-top_block');
  var lastScreenElem2 = document.querySelector('.last-screen__ice-bottom_block');
  var lastScreenElem3 = document.querySelector('.last-screen__triangle');
  var lastScreenElem4 = document.querySelector('.last-screen__text');
  var firstScreenIce1 = document.querySelector('.first-screen__ice1');
  var firstScreenIce3 = document.querySelector('.first-screen__ice3');
  var firstScreenIce2 = document.querySelector('.first-screen__ice2');
  var firstScreenIce7 = document.querySelector('.first-screen__ice7');
  var firstScreenIce9 = document.querySelector('.first-screen__ice9');
  var firstScreenIce10 = document.querySelector('.first-screen__ice10');
  var firstScreenIce8 = document.querySelector('.first-screen__ice8');
  var firstScreenIce6 = document.querySelector('.first-screen__ice6');
  var firstScreenIce5 = document.querySelector('.first-screen__ice5');
  var firstScreenIce4 = document.querySelector('.first-screen__ice4');
  var firstScreenBigIce1 = document.querySelector('.first-screen__bigIce1');
  var firstScreenBigIce2 = document.querySelector('.first-screen__bigIce2');
  setTimeout(function () {
    firstScreenIce1.classList.add('active');
    firstScreenIce3.classList.add('active');
    firstScreenIce2.classList.add('active');
    firstScreenIce7.classList.add('active');
    firstScreenIce9.classList.add('active');
    firstScreenIce10.classList.add('active');
    firstScreenIce8.classList.add('active');
    firstScreenIce6.classList.add('active');
    firstScreenIce5.classList.add('active');
  }, 1000);
  setTimeout(function () {
    firstScreenBigIce1.classList.add('active');
    firstScreenBigIce2.classList.add('active');
  }, 1100);
  setTimeout(function () {
    firstScreenIce2.classList.add('active-last');
    firstScreenIce8.classList.add('active-last');
    firstScreenIce6.classList.add('active-last');
    firstScreenIce9.classList.add('active-last');
    firstScreenIce4.classList.add('active-last');
  }, 1100);
  setTimeout(function () {
    lastScreenElem1.classList.add('active');
    lastScreenElem2.classList.add('active');
    lastScreenElem3.classList.add('active');
    lastScreenElem4.classList.add('active');
  }, 1200);
};

iceCrash(); // const preloader = () => {
//   const confirm = document.getElementById('confirm');
//   window.addEventListener('load', () => {
//     if (confirm) {
//       confirm.addEventListener('click', (e) => {
//         if (e.target.closest('.confirm-btn__open')) {
//           confirm.style.display = 'none';
//           setTimeout(() => {
//             iceCrash();
//           }, 500);
//         }
//       });
//     }
//   });
// };
// preloader();

var toggleMenu = function toggleMenu() {
  var popupMenu = document.querySelector('.popup-menu');
  var burger = document.querySelector('.burger');
  burger.addEventListener('click', function () {
    burger.classList.toggle('active');
    popupMenu.classList.toggle('active');
  });
};

toggleMenu();

var animate = function animate() {
  gsap.registerPlugin(ScrollTrigger);
  gsap.to('.jar-title', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: 2000
  });
  gsap.to('.jar-description', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: 2000
  });
  gsap.to('.new-tast__img', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: -2000
  });
  gsap.to('.subtitle-top ', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: -2000
  });
  gsap.to('.title-top', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: -2000,
    delay: 0.5
  });
  gsap.to('.jar-subtitle', {
    scrollTrigger: {
      trigger: '.new-taste',
      start: 'top center'
    },
    x: 2000,
    delay: 0.5
  });
  gsap.to('.inside-velo__title', {
    scrollTrigger: {
      trigger: '.inside-velo',
      start: 'top center'
    },
    x: 2000
  });
  gsap.to('.inside-velo__wrapper', {
    scrollTrigger: {
      trigger: '.inside-velo',
      start: 'top center'
    },
    y: -100,
    opacity: 1
  });
  gsap.to('.use-velo__title', {
    scrollTrigger: {
      trigger: '.use-velo',
      start: 'top center'
    },
    opacity: 1
  });
  gsap.to('.use-velo__list', {
    scrollTrigger: {
      trigger: '.use-velo',
      start: 'top center'
    },
    y: -100,
    opacity: 1
  });
};

animate();

var swiperInit = function swiperInit() {
  /* eslint-disable-next-line */
  var mediumSlider;
  /* eslint-disable-next-line */

  mediumSlider = new Swiper('.medium-slider', {
    slidesPerView: 3.5,
    spaceBetween: 20,
    slideToClickedSlide: true,
    grabCursor: true,
    scrollbar: {
      el: '.swiper-scrollbar',
      dragSize: 500
    },
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    },
    breakpoints: {
      320: {
        slidesPerView: 1.5,
        scrollbar: {
          dragSize: 200
        },
        centeredSlides: true,
        loop: true,
        spaceBetween: 0
      },
      690: {
        slidesPerView: 2
      },
      1300: {
        slidesPerView: 3.5
      }
    }
  });
};

swiperInit();

var test = function test() {
  /* eslint-disable-next-line */
  var advancedSlider;
  /* eslint-disable-next-line */

  advancedSlider = new Swiper('.advanced-slider', {
    slidesPerView: 3.1,
    grabCursor: true,
    scrollbar: {
      el: '.swiper-scrollbar',
      dragSize: 500,
      hide: false
    },
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    },
    breakpoints: {
      320: {
        slidesPerView: 1.5,
        scrollbar: {
          dragSize: 200
        },
        centeredSlides: true,
        loop: true,
        spaceBetween: 20
      },
      690: {
        slidesPerView: 2
      },
      1300: {
        slidesPerView: 3.1
      }
    }
  });
};

test();

var slider1 = function slider1() {
  /* eslint-disable-next-line */
  var advancedSlider;
  /* eslint-disable-next-line */

  advancedSlider = new Swiper('.inside-velo__wrapper', {
    slidesPerView: 4,
    grabCursor: true,
    breakpoints: {
      320: {
        slidesPerView: 1.4,
        centeredSlides: true,
        spaceBetween: 2,
        loop: true
      },
      445: {
        slidesPerView: 2.2,
        spaceBetween: 50,
        centeredSlides: true,
        loop: true
      },
      690: {
        slidesPerView: 3
      },
      991: {
        slidesPerView: 4
      }
    }
  });
};

slider1();

var slider2 = function slider2() {
  /* eslint-disable-next-line */
  var useSlider;
  /* eslint-disable-next-line */

  useSlider = new Swiper('.use-velo__list', {
    slidesPerView: 4,
    spaceBetween: 40,
    grabCursor: true,
    breakpoints: {
      320: {
        slidesPerView: 2.5,
        spaceBetween: 40,
        centeredSlides: true,
        loop: true
      },
      690: {
        slidesPerView: 4
      }
    }
  });
};

slider2();

var slider3 = function slider3() {
  /* eslint-disable-next-line */
  var bestSlider;
  /* eslint-disable-next-line */

  bestSlider = new Swiper('.best-velo-slider', {
    slidesPerView: 3.1,
    grabCursor: true,
    scrollbar: {
      el: '.swiper-scrollbar',
      dragSize: 500,
      hide: false
    },
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    },
    breakpoints: {
      320: {
        slidesPerView: 1.5,
        spaceBetween: 0,
        loop: true,
        centeredSlides: true,
        scrollbar: {
          dragSize: 200
        }
      },
      690: {
        slidesPerView: 2
      },
      1300: {
        slidesPerView: 3.1
      }
    }
  });
};

slider3();

var firstScreenMobile = function firstScreenMobile() {
  var bw = document.body.clientWidth;

  if (bw < 576) {
    var jar = document.querySelector('.jar-block').children;
    var triangle = document.querySelector('.last-screen__triangle').children;
    var text = document.querySelector('.last-screen__text').children;
    jar[0].src = 'assets/images/jar_mobile.png';
    triangle[0].src = 'assets/images/triangle_mobile.png';
    text[0].src = 'assets/images/ru_text_mobile.png';
  }
};

firstScreenMobile();
app.yourScriptName = {
  name: 'yourScriptName',
  description: 'your script description',
  init: function init() {// your code
  }
};
app.addLibs = {
  name: 'addLibs',
  description: 'connect the script library dynamically',
  addScriptFile: function addScriptFile(nameFile, callback) {
    var body = document.getElementsByTagName('body')[0];
    var script = document.createElement('script');

    script.onload = function () {
      return callback && callback();
    };

    script.src = "".concat(app.pathToLibsFiles, "/js/").concat(nameFile, ".js");
    body.appendChild(script);
  },
  addStyleFile: function addStyleFile(nameFile) {
    var appCss = document.getElementById('app-css');
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = "".concat(app.pathToLibsFiles, "/css/").concat(nameFile, ".css");
    appCss.before(link);
  },
  initScript: function initScript(nameFile, nameLib, callback) {
    var hasLibs = null;
    var scripts = document.querySelectorAll('script');
    scripts.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addScriptFile(nameFile, callback);
    } else {
      var timerId = setInterval(function () {
        if (window[nameLib] || window.jQuery && jQuery()[nameLib]) {
          callback();
          clearInterval(timerId);
        }
      }, 1);
    }
  },
  initStyle: function initStyle(nameFile) {
    var hasLibs = null;
    var link = document.querySelectorAll('link');
    link.forEach(function (el) {
      var str = el.getAttribute('src');

      if (str) {
        if (str.indexOf(nameFile) >= 0) {
          hasLibs = true;
        }
      }
    });

    if (!hasLibs) {
      this.addStyleFile(nameFile);
    }
  }
}; // app.yourScriptName.init();
//# sourceMappingURL=app.min.js.map
